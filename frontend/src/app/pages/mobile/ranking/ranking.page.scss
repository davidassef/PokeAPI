// ===== MOBILE RANKING PAGE STYLES =====

ion-content {
  --background: var(--ranking-bg);
}

// ===== CABEÇALHO DO RANKING MOBILE =====

// Header visual do ranking - adaptado da versão web para mobile
.ranking-header {
  text-align: center;
  margin-top: 20px; // Reduzido de 40px para mobile
  margin-bottom: 40px; // Reduzido de 110px para mobile
  color: #fff;
  text-shadow: 0 4px 16px rgba(0,0,0,0.22), 0 1px 0 #ffd700;
  position: relative;
  z-index: 10;
  padding: 0 16px; // Padding lateral para mobile

  .ranking-title-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px; // Reduzido de 14px para mobile
    margin-bottom: 0;
    flex-direction: column; // Mantém layout vertical no mobile
  }

  .ranking-title-icon {
    font-size: 2rem; // Reduzido de 2.5rem para mobile
    color: #ffd700;
    filter: drop-shadow(0 2px 8px #0008);
    margin-bottom: 4px;
    text-shadow: 0 2px 8px #000a;
  }

  h2 {
    font-size: 2.2rem; // Reduzido de 2.8rem para mobile
    font-weight: 900;
    margin-bottom: 0;
    letter-spacing: 1.2px; // Reduzido de 1.5px para mobile
    background: linear-gradient(90deg, #ffd700 30%, #ff8c00 70%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 4px 16px #000a, 0 1px 0 #ffd700, 0 0 2px #222;
    line-height: 1.1;
    text-align: center; // Garantir centralização no mobile
  }

  p {
    font-size: 1rem; // Reduzido de 1.18rem para mobile
    opacity: 0.98;
    margin-bottom: 0;
    font-style: italic;
    text-shadow: 0 2px 8px rgba(0,0,0,0.18);
    margin-top: 8px;
    text-align: center; // Garantir centralização no mobile
    padding: 0 8px; // Padding lateral para melhor leitura
  }

  .ranking-title-underline {
    width: 100px; // Reduzido de 120px para mobile
    height: 4px; // Reduzido de 5px para mobile
    margin: 16px auto 0 auto; // Reduzido de 18px para mobile
    border-radius: 3px;
    background: linear-gradient(90deg, #ffd700 30%, #ff8c00 70%);
    opacity: 0.85;
    box-shadow: 0 2px 8px #0002;
  }
}

// Informação discreta do ranking - adaptada para mobile
.ranking-info-discreet {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px; // Reduzido para mobile
  margin-top: 16px; // Espaçamento superior
  font-size: 0.85rem; // Reduzido para mobile
  color: rgba(255, 255, 255, 0.9);
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  padding: 0 16px; // Padding lateral

  ion-icon {
    font-size: 1rem; // Tamanho do ícone reduzido para mobile
  }

  span {
    text-align: center;
    line-height: 1.3;
  }
}

// Controles de debug - adaptados para mobile
.debug-controls-mobile {
  margin-top: 20px;
  display: flex;
  justify-content: center;

  ion-button {
    --font-size: 0.8rem;
    --padding-start: 12px;
    --padding-end: 12px;
    --padding-top: 8px;
    --padding-bottom: 8px;

    ion-icon {
      font-size: 1rem;
    }
  }
}

// Responsividade para telas muito pequenas
@media (max-width: 360px) {
  .ranking-header {
    margin-top: 16px;
    margin-bottom: 32px;
    padding: 0 12px;

    .ranking-title-icon {
      font-size: 1.8rem;
    }

    h2 {
      font-size: 1.8rem;
      letter-spacing: 1px;
    }

    p {
      font-size: 0.9rem;
      padding: 0 4px;
    }

    .ranking-title-underline {
      width: 80px;
      height: 3px;
      margin: 12px auto 0 auto;
    }
  }

  .ranking-info-discreet {
    font-size: 0.8rem;
    padding: 0 12px;

    ion-icon {
      font-size: 0.9rem;
    }
  }

  // Ajustes da lista de ranking para telas pequenas
  .ranking-list-mobile {
    min-height: 440px; // Altura ajustada para nova estrutura
  }

  .podium-first-container {
    width: 140px; // Largura reduzida para telas pequenas

    .podium-card {
      min-height: 180px !important; // Altura igual aos cards normais em telas pequenas
      width: 100% !important;
      max-width: none !important;
      transform: none !important;

      app-pokemon-card {
        min-height: 180px !important;
        width: 100% !important;
        max-width: none !important;
        transform: none !important;
      }
    }
  }

  .podium-second-container {
    top: 220px; // Ajustado para nova estrutura
    left: 8px;
    width: 140px; // Largura reduzida para telas pequenas

    .podium-card {
      min-height: 180px !important; // Altura igual aos cards normais em telas pequenas
      width: 100% !important;
      max-width: none !important;
      transform: none !important;

      app-pokemon-card {
        min-height: 180px !important;
        width: 100% !important;
        max-width: none !important;
        transform: none !important;
      }
    }
  }

  .podium-third-container {
    top: 220px; // Mesma altura do 2º lugar
    right: 8px;
    width: 140px; // Largura reduzida para telas pequenas

    .podium-card {
      min-height: 180px !important; // Altura igual aos cards normais em telas pequenas
      width: 100% !important;
      max-width: none !important;
      transform: none !important;

      app-pokemon-card {
        min-height: 180px !important;
        width: 100% !important;
        max-width: none !important;
        transform: none !important;
      }
    }
  }
}

// ===== PÓDIO MOBILE OTIMIZADO =====

// Container da lista de ranking mobile - agora apenas um wrapper simples
.ranking-list-mobile {
  position: relative;
  width: 100%;
  // Altura mínima para acomodar os containers independentes do pódium
  min-height: 480px;
  margin-bottom: 20px;
}

// ✅ CONTAINERS INDEPENDENTES PARA CADA POSIÇÃO DO PÓDIO

// 1º lugar - Container independente centralizado no topo
.podium-first-container {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 160px; // Largura fixa similar aos cards normais
  z-index: 10;
  transition: all 0.3s ease;

  // Card do campeão mantém tamanho padrão dos cards normais
  .podium-card {
    width: 100%;
    min-height: 200px; // Exatamente igual aos cards normais
    max-width: none; // Remove limitação de largura máxima
  }
}

// 2º lugar - Container independente à esquerda
.podium-second-container {
  position: absolute;
  top: 240px; // Posicionado abaixo do 1º lugar
  left: 15px; // Espaçamento adequado da borda
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 160px; // Largura fixa similar aos cards normais
  z-index: 8;
  transition: all 0.3s ease;

  // Card do 2º lugar mantém tamanho padrão dos cards normais
  .podium-card {
    width: 100%;
    min-height: 200px; // Exatamente igual aos cards normais
    max-width: none; // Remove limitação de largura máxima
  }
}

// 3º lugar - Container independente à direita
.podium-third-container {
  position: absolute;
  top: 240px; // Mesma altura do 2º lugar para criar simetria
  right: 15px; // Espaçamento adequado da borda
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 160px; // Largura fixa similar aos cards normais
  z-index: 6;
  transition: all 0.3s ease;

  // Card do 3º lugar mantém tamanho padrão dos cards normais
  .podium-card {
    width: 100%;
    min-height: 200px; // Exatamente igual aos cards normais
    max-width: none; // Remove limitação de largura máxima
  }
}

// ✅ GARANTIA DE TAMANHO PADRÃO PARA CARDS DO PÓDIUM
.podium-card {
  position: relative;
  border-radius: 16px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: visible;

  // FORÇA o mesmo tamanho dos cards normais do ranking
  width: 100% !important;
  min-height: 200px !important;
  max-width: none !important;
  transform: none !important; // Remove qualquer transform que possa reduzir o tamanho

  // Efeito de hover sutil (sem scale para manter consistência)
  &:hover {
    transform: translateY(-2px);
  }

  // Estado ativo
  &:active {
    transform: translateY(-1px);
    transition: transform 0.1s ease;
  }

  // Garante que o componente pokemon-card interno também mantenha o tamanho
  app-pokemon-card {
    width: 100% !important;
    min-height: 200px !important;
    max-width: none !important;
    transform: none !important;
  }
}

// ✅ NOVO: Bordas decorativas para cada posição do pódio

// 1º lugar - Borda dourada (Campeão)
.podium-first {
  border: 3px solid #ffd700;
  box-shadow:
    0 0 20px rgba(255, 215, 0, 0.4),
    0 4px 16px rgba(255, 215, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);

  &::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    border-radius: inherit;
    background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
    z-index: -1;
    opacity: 0.6;
    animation: goldGlow 2s ease-in-out infinite alternate;
  }

  &:hover {
    box-shadow:
      0 0 30px rgba(255, 215, 0, 0.6),
      0 6px 20px rgba(255, 215, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.4);
    transform: translateY(-3px) scale(1.03);
  }
}

// 2º lugar - Borda prateada (Vice-campeão)
.podium-second {
  border: 3px solid #c0c0c0;
  box-shadow:
    0 0 16px rgba(192, 192, 192, 0.4),
    0 4px 12px rgba(192, 192, 192, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);

  &::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    border-radius: inherit;
    background: linear-gradient(45deg, #c0c0c0, #e8e8e8, #c0c0c0);
    z-index: -1;
    opacity: 0.5;
    animation: silverGlow 2.5s ease-in-out infinite alternate;
  }

  &:hover {
    box-shadow:
      0 0 24px rgba(192, 192, 192, 0.6),
      0 6px 16px rgba(192, 192, 192, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.4);
    transform: translateY(-2px) scale(1.02);
  }
}

// 3º lugar - Borda bronze (Terceiro lugar)
.podium-third {
  border: 3px solid #cd7f32;
  box-shadow:
    0 0 14px rgba(205, 127, 50, 0.4),
    0 4px 10px rgba(205, 127, 50, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);

  &::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    border-radius: inherit;
    background: linear-gradient(45deg, #cd7f32, #daa520, #cd7f32);
    z-index: -1;
    opacity: 0.4;
    animation: bronzeGlow 3s ease-in-out infinite alternate;
  }

  &:hover {
    box-shadow:
      0 0 20px rgba(205, 127, 50, 0.6),
      0 6px 14px rgba(205, 127, 50, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.4);
    transform: translateY(-1px) scale(1.01);
  }
}

// ✅ NOVO: Animações de brilho para cada posição
@keyframes goldGlow {
  0% { opacity: 0.4; }
  100% { opacity: 0.8; }
}

@keyframes silverGlow {
  0% { opacity: 0.3; }
  100% { opacity: 0.7; }
}

@keyframes bronzeGlow {
  0% { opacity: 0.2; }
  100% { opacity: 0.6; }
}

// ✅ NOVO: Estilos para elementos do pódio (medalhas, coroa, badges)

// Medalhas e coroa - posicionadas acima do card
.podium-medal,
.podium-crown {
  position: absolute;
  top: -15px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 1.8rem;
  z-index: 10;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  animation: float 2s ease-in-out infinite alternate;
}

.podium-crown {
  font-size: 2rem;
  animation: crownGlow 2s ease-in-out infinite alternate;
}

// Badge de contagem de capturas - posicionado acima do card
.capture-count-badge {
  position: absolute;
  top: -10px;
  right: -10px;
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--ion-color-danger);
  background: rgba(255, 255, 255, 0.95);
  padding: 4px 8px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  z-index: 10;
  border: 1px solid rgba(255, 255, 255, 0.8);
}

// Banner de campeão - posicionado abaixo do card
.champion-banner {
  position: absolute;
  bottom: -20px;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, #ffd700, #ffed4e);
  color: #333;
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4);
  z-index: 10;
  animation: championBannerGlow 2s ease-in-out infinite alternate;
}

// Animações
@keyframes float {
  0% { transform: translateX(-50%) translateY(0px); }
  100% { transform: translateX(-50%) translateY(-3px); }
}

@keyframes crownGlow {
  0% { filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 8px rgba(255, 215, 0, 0.6)); }
  100% { filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 16px rgba(255, 215, 0, 0.8)); }
}

@keyframes championBannerGlow {
  0% {
    box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }
  100% {
    box-shadow: 0 4px 16px rgba(255, 215, 0, 0.6);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }
}

// ✅ NOVO: Otimizações para telas pequenas com nova estrutura
@media (max-width: 360px) {
  .ranking-podium-vertical-mobile {
    gap: 8px;
    padding: 0 4px;
  }

  .podium-position {
    margin: 4px 2px;
  }

  .podium-medal,
  .podium-crown {
    font-size: 1.4rem;
    top: -12px;
  }

  .capture-count-badge {
    font-size: 0.65rem;
    padding: 2px 6px;
    top: -8px;
    right: -8px;
  }

  .champion-banner {
    font-size: 0.6rem;
    padding: 2px 8px;
    bottom: -16px;
  }

  .podium-card {
    border-width: 2px;

    &::before {
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
    }
  }
}

// ===== ESTADOS DE LOADING E EMPTY STATE MOBILE =====

// Loading state - adaptado para mobile
.loading-container-mobile {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;

  ion-spinner {
    margin-bottom: 20px;
    --color: #ffd700;
    transform: scale(1.2);
  }

  p {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.9);
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
    margin: 0;
    font-weight: 500;
  }
}

// Empty state - adaptado para mobile
.empty-state-mobile {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;

  ion-icon {
    margin-bottom: 20px;
    font-size: 4rem;
    color: #ffd700;
    filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3));
  }

  h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: 12px;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  p {
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 24px;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
    line-height: 1.4;
    padding: 0 16px;
  }

  ion-button {
    --font-size: 0.9rem;
    --padding-start: 20px;
    --padding-end: 20px;
    --padding-top: 12px;
    --padding-bottom: 12px;
    --border-radius: 12px;

    ion-icon {
      font-size: 1.1rem;
      margin-bottom: 0;
      margin-right: 8px;
    }
  }
}

// ===== GRID 2x2 DOS DEMAIS RANKINGS MOBILE =====

// Grid 2x2 para rankings 4º em diante - posicionado após containers independentes do pódium
.mobile-ranking-grid-horizontal {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  padding: 0 12px;
  margin-top: 480px; // Espaço suficiente para os containers independentes do pódium
  max-width: 100%;
}

.ranking-item-horizontal {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  min-height: 200px; // Altura mínima para consistência
}

// Badge de ranking posicionado no canto superior esquerdo
.ranking-badge-horizontal {
  position: absolute;
  top: 8px;
  left: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  font-weight: 700;
  font-size: 0.8rem;
  color: white;
  z-index: 5;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  border: 2px solid rgba(255, 255, 255, 0.9);

  // Cores baseadas na posição
  &.rank-4, &.rank-5 {
    background: linear-gradient(145deg, #9c27b0, #7b1fa2);
  }

  &.rank-6, &.rank-7, &.rank-8 {
    background: linear-gradient(145deg, #2196f3, #1976d2);
  }

  &.rank-9, &.rank-10 {
    background: linear-gradient(145deg, #4caf50, #388e3c);
  }

  // Padrão para posições maiores
  &:not(.rank-4):not(.rank-5):not(.rank-6):not(.rank-7):not(.rank-8):not(.rank-9):not(.rank-10) {
    background: linear-gradient(145deg, #757575, #424242);
  }
}

// Card do Pokémon ocupa toda a área disponível
.ranking-pokemon-card-horizontal {
  width: 100%;
  height: 100%;
  min-height: 200px;
  display: flex;
  flex-direction: column;
}

// Badge de favoritos no canto superior direito
.ranking-favorite-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  display: flex;
  align-items: center;
  gap: 4px;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 12px;
  padding: 4px 8px;
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--ion-color-danger);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  z-index: 5;
  border: 1px solid rgba(255, 255, 255, 0.8);

  ion-icon {
    font-size: 0.9rem;
  }
}

// Responsividade para grid 2x2
@media (max-width: 360px) {
  .mobile-ranking-grid-horizontal {
    gap: 8px;
    padding: 0 8px;
    margin-top: 440px; // Ajustado para telas pequenas
  }

  .ranking-item-horizontal {
    min-height: 180px;
  }

  .ranking-badge-horizontal {
    width: 24px;
    height: 24px;
    font-size: 0.7rem;
    top: 6px;
    left: 6px;
  }

  .ranking-favorite-badge {
    top: 6px;
    right: 6px;
    padding: 2px 6px;
    font-size: 0.7rem;
  }
}
