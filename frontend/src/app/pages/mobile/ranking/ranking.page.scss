// ===== MOBILE RANKING PAGE STYLES =====

ion-content {
  --background: var(--ranking-bg);
}

// ===== CABEÇALHO DO RANKING MOBILE =====

// Header visual do ranking - adaptado da versão web para mobile
.ranking-header {
  text-align: center;
  margin-top: 20px; // Reduzido de 40px para mobile
  margin-bottom: 20px; // Reduzido ainda mais para diminuir espaço vazio
  color: #fff;
  text-shadow: 0 4px 16px rgba(0,0,0,0.22), 0 1px 0 #ffd700;
  position: relative;
  z-index: 10;
  padding: 0 16px; // Padding lateral para mobile

  .ranking-title-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px; // Reduzido de 14px para mobile
    margin-bottom: 0;
    flex-direction: column; // Mantém layout vertical no mobile
  }

  .ranking-title-icon {
    font-size: 2rem; // Reduzido de 2.5rem para mobile
    color: #ffd700;
    filter: drop-shadow(0 2px 8px #0008);
    margin-bottom: 4px;
    text-shadow: 0 2px 8px #000a;
  }

  h2 {
    font-size: 2.2rem; // Reduzido de 2.8rem para mobile
    font-weight: 900;
    margin-bottom: 0;
    letter-spacing: 1.2px; // Reduzido de 1.5px para mobile
    background: linear-gradient(90deg, #ffd700 30%, #ff8c00 70%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    text-shadow: 0 4px 16px #000a, 0 1px 0 #ffd700, 0 0 2px #222;
    line-height: 1.1;
    text-align: center; // Garantir centralização no mobile
  }

  p {
    font-size: 1rem; // Reduzido de 1.18rem para mobile
    opacity: 0.98;
    margin-bottom: 0;
    font-style: italic;
    text-shadow: 0 2px 8px rgba(0,0,0,0.18);
    margin-top: 8px;
    text-align: center; // Garantir centralização no mobile
    padding: 0 8px; // Padding lateral para melhor leitura
  }

  .ranking-title-underline {
    width: 100px; // Reduzido de 120px para mobile
    height: 4px; // Reduzido de 5px para mobile
    margin: 16px auto 0 auto; // Reduzido de 18px para mobile
    border-radius: 3px;
    background: linear-gradient(90deg, #ffd700 30%, #ff8c00 70%);
    opacity: 0.85;
    box-shadow: 0 2px 8px #0002;
  }
}

// Informação discreta do ranking - adaptada para mobile
.ranking-info-discreet {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px; // Reduzido para mobile
  margin-top: 16px; // Espaçamento superior
  font-size: 0.85rem; // Reduzido para mobile
  color: rgba(255, 255, 255, 0.9);
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
  padding: 0 16px; // Padding lateral

  ion-icon {
    font-size: 1rem; // Tamanho do ícone reduzido para mobile
  }

  span {
    text-align: center;
    line-height: 1.3;
  }
}

// Controles de debug - adaptados para mobile
.debug-controls-mobile {
  margin-top: 20px;
  display: flex;
  justify-content: center;

  ion-button {
    --font-size: 0.8rem;
    --padding-start: 12px;
    --padding-end: 12px;
    --padding-top: 8px;
    --padding-bottom: 8px;

    ion-icon {
      font-size: 1rem;
    }
  }
}

// Responsividade para telas muito pequenas
@media (max-width: 360px) {
  .ranking-header {
    margin-top: 16px;
    margin-bottom: 32px;
    padding: 0 12px;

    .ranking-title-icon {
      font-size: 1.8rem;
    }

    h2 {
      font-size: 1.8rem;
      letter-spacing: 1px;
    }

    p {
      font-size: 0.9rem;
      padding: 0 4px;
    }

    .ranking-title-underline {
      width: 80px;
      height: 3px;
      margin: 12px auto 0 auto;
    }
  }

  .ranking-info-discreet {
    font-size: 0.8rem;
    padding: 0 12px;

    ion-icon {
      font-size: 0.9rem;
    }
  }

  // Ajustes dos containers individuais para telas pequenas
  .first-container-mobile,
  .second-container-mobile,
  .third-container-mobile {
    padding: 15px 8px; // Padding reduzido para telas pequenas
    margin-top: 20px; // Espaçamento reduzido
    margin-bottom: 20px;

    .podium-card {
      max-width: 140px; // Largura máxima proporcional para telas pequenas
      min-height: 180px; // Altura igual aos cards normais em telas pequenas

      app-pokemon-card {
        min-height: 180px;
        width: 100%;
      }
    }

    // Ajustes dos elementos decorativos para telas pequenas
    .first-container-mobile .podium-crown {
      font-size: 1.8rem; // Tamanho reduzido para telas pequenas
      top: -12px;
    }

    .second-container-mobile .podium-medal,
    .third-container-mobile .podium-medal {
      font-size: 1.6rem; // Tamanho reduzido para telas pequenas
      top: -12px;
    }

    // Ajuste do posicionamento para cards menores (180px em telas pequenas)
    .second-container-mobile .podium-medal {
      left: calc(20px + 90px); // padding (20px) + metade da largura do card pequeno (180px/2 = 90px)
    }

    .third-container-mobile .podium-medal {
      right: calc(20px + 90px); // padding (20px) + metade da largura do card pequeno (180px/2 = 90px)
    }
  }

  .first-container-mobile {
    margin-top: 25px; // Espaçamento específico do header para telas pequenas
    justify-content: center; // Mantém centralizado em telas pequenas

    .champion-banner {
      font-size: 0.65rem;
      padding: 3px 10px;
      top: 20px; // Ajustado para telas pequenas (coroa está em top: -12px)
      border-radius: 14px;
    }
  }

  .second-container-mobile {
    justify-content: flex-start; // Mantém à esquerda em telas pequenas
  }

  .third-container-mobile {
    justify-content: flex-end; // Mantém à direita em telas pequenas
  }
}

// ===== CONTAINERS INDIVIDUAIS PARA CADA POSIÇÃO DO PÓDIO =====

// Container individual para 1º lugar - centralizado
.first-container-mobile {
  position: relative;
  width: 100%;
  padding: 20px 12px; // Padding interno para espaçamento
  margin-top: 30px; // Maior espaçamento do header
  margin-bottom: 30px; // Espaçamento do próximo container
  display: flex;
  justify-content: center; // 1º lugar mantém centralizado
  align-items: center;
}

// Container individual para 2º lugar - posicionado à esquerda
.second-container-mobile {
  position: relative;
  width: 100%;
  padding: 20px 12px; // Padding interno para espaçamento
  margin-bottom: 30px; // Espaçamento do próximo container
  display: flex;
  justify-content: flex-start; // 2º lugar posicionado à esquerda
  align-items: center;
}

// Container individual para 3º lugar - posicionado à direita
.third-container-mobile {
  position: relative;
  width: 100%;
  padding: 20px 12px; // Padding interno para espaçamento
  margin-bottom: 30px; // Espaçamento do grid 2x2
  display: flex;
  justify-content: flex-end; // 3º lugar posicionado à direita
  align-items: center;
}

// Container do grid 2x2 - separado dos containers individuais
.ranking-grid-container-mobile {
  width: 100%;
  margin-top: 0; // Remove espaçamento superior desnecessário
  margin-bottom: 20px;
}

// ✅ ESTILOS PARA OS CARDS DO PÓDIO NOS CONTAINERS INDIVIDUAIS

// Estilos comuns para todos os cards do pódio
.first-container-mobile,
.second-container-mobile,
.third-container-mobile {

  // Card do pódio com tamanho específico solicitado
  .podium-card {
    width: 210px; // Largura fixa conforme solicitado
    height: 342px; // Altura fixa conforme solicitado
    max-width: 210px; // Garante que não ultrapasse o tamanho definido
    min-height: 342px; // Garante altura mínima
    position: relative; // Para posicionamento dos elementos decorativos
    margin: 0; // Remove margin auto pois agora usamos justify-content nos containers
    overflow: visible; // Permite que elementos decorativos saiam do card
  }

  // ✅ Elementos decorativos removidos do escopo comum
  // Serão posicionados individualmente em cada container
}

// ✅ Estilos específicos para cada container do pódio

// Container do 1º lugar - centralizado
.first-container-mobile {
  // Coroa centralizada sobre o card
  .podium-crown {
    position: absolute;
    top: -15px;
    left: 50%; // Centralizada no container (que já centraliza o card)
    transform: translateX(-50%);
    font-size: 2rem;
    z-index: 15;
    pointer-events: none;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    animation: crownGlow 2s ease-in-out infinite alternate;
  }

  // ✅ CORREÇÃO: Badge de favoritos posicionado no canto superior direito do card
  .ranking-favorite-badge {
    position: absolute;
    top: 8px;
    left: calc(50% + 105px - 8px); // Centro + metade do card - ajuste do badge
    z-index: 20;
  }

  // Banner "Campeão!" posicionado como overlay externo
  .champion-banner {
    position: absolute;
    top: 25px; // Posicionado abaixo da coroa (que está em top: -15px)
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #ffd700, #ffed4e);
    color: #333;
    padding: 6px 14px;
    border-radius: 18px;
    font-size: 0.75rem;
    font-weight: bold;
    text-transform: uppercase;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
    z-index: 14; // Menor que a coroa para ficar atrás
    white-space: nowrap;
    border: 2px solid rgba(255, 255, 255, 0.8);
    display: block;
    visibility: visible;
    pointer-events: none; // Não interfere com cliques no card
  }
}

// Container do 2º lugar - card à esquerda
.second-container-mobile {
  // Medalha posicionada sobre o card (que está à esquerda)
  .podium-medal {
    position: absolute;
    top: -15px;
    left: calc(15px + 105px); // padding (15px) + metade da largura do card (210px/2 = 105px)
    transform: translateX(-50%);
    font-size: 1.8rem;
    z-index: 15;
    pointer-events: none;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    animation: float 2s ease-in-out infinite alternate;
  }

  // ✅ CORREÇÃO: Badge de favoritos posicionado no canto superior direito do card
  .ranking-favorite-badge {
    position: absolute;
    top: 8px;
    left: calc(12px + 210px - 8px); // padding + largura do card - ajuste do badge
    z-index: 20;
  }
}

// Container do 3º lugar - card à direita
.third-container-mobile {
  // Medalha posicionada sobre o card (que está à direita)
  .podium-medal {
    position: absolute;
    top: -15px;
    right: calc(-30px + 105px); // padding (20px) + metade da largura do card (210px/2 = 105px)
    transform: translateX(50%);
    font-size: 1.8rem;
    z-index: 15;
    pointer-events: none;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
    animation: float 2s ease-in-out infinite alternate;
  }

  // ✅ CORREÇÃO: Badge de favoritos posicionado no canto superior direito do card
  .ranking-favorite-badge {
    position: absolute;
    top: 8px;
    right: 20px; // padding do container + ajuste do badge
    z-index: 20;
  }
}

// ✅ ESTILOS BASE PARA CARDS DO PÓDIUM
.podium-card {
  position: relative;
  border-radius: 16px;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  overflow: visible;

  // Tamanho específico dos cards do pódio
  width: 210px;
  height: 342px;
  max-width: 210px;
  min-height: 342px;

  // Efeito de hover sutil (sem scale para manter consistência)
  &:hover {
    transform: translateY(-2px);
  }

  // Estado ativo
  &:active {
    transform: translateY(-1px);
    transition: transform 0.1s ease;
  }

  // Garante que o componente pokemon-card interno mantenha o tamanho específico
  &.podium-card {
    width: 210px !important;
    height: 342px !important;
    max-width: 210px !important;
    min-height: 342px !important;

    // Força o tamanho no elemento interno do pokemon-card
    .pokemon-card {
      width: 210px !important;
      height: 342px !important;
      max-width: 210px !important;
      min-height: 342px !important;
      margin: 0 !important; // Remove margens para controle total do tamanho
    }
  }
}

// ✅ NOVO: Bordas decorativas para cada posição do pódio

// 1º lugar - Borda dourada (Campeão)
.podium-first {
  border: 3px solid #ffd700;
  box-shadow:
    0 0 20px rgba(255, 215, 0, 0.4),
    0 4px 16px rgba(255, 215, 0, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);

  &::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    border-radius: inherit;
    background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
    z-index: -1;
    opacity: 0.6;
    animation: goldGlow 2s ease-in-out infinite alternate;
  }

  &:hover {
    box-shadow:
      0 0 30px rgba(255, 215, 0, 0.6),
      0 6px 20px rgba(255, 215, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.4);
    transform: translateY(-3px) scale(1.03);
  }
}

// 2º lugar - Borda prateada (Vice-campeão)
.podium-second {
  border: 3px solid #c0c0c0;
  box-shadow:
    0 0 16px rgba(192, 192, 192, 0.4),
    0 4px 12px rgba(192, 192, 192, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);

  &::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    border-radius: inherit;
    background: linear-gradient(45deg, #c0c0c0, #e8e8e8, #c0c0c0);
    z-index: -1;
    opacity: 0.5;
    animation: silverGlow 2.5s ease-in-out infinite alternate;
  }

  &:hover {
    box-shadow:
      0 0 24px rgba(192, 192, 192, 0.6),
      0 6px 16px rgba(192, 192, 192, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.4);
    transform: translateY(-2px) scale(1.02);
  }
}

// 3º lugar - Borda bronze (Terceiro lugar)
.podium-third {
  border: 3px solid #cd7f32;
  box-shadow:
    0 0 14px rgba(205, 127, 50, 0.4),
    0 4px 10px rgba(205, 127, 50, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.3);

  &::before {
    content: '';
    position: absolute;
    top: -3px;
    left: -3px;
    right: -3px;
    bottom: -3px;
    border-radius: inherit;
    background: linear-gradient(45deg, #cd7f32, #daa520, #cd7f32);
    z-index: -1;
    opacity: 0.4;
    animation: bronzeGlow 3s ease-in-out infinite alternate;
  }

  &:hover {
    box-shadow:
      0 0 20px rgba(205, 127, 50, 0.6),
      0 6px 14px rgba(205, 127, 50, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.4);
    transform: translateY(-1px) scale(1.01);
  }
}

// ✅ NOVO: Animações de brilho para cada posição
@keyframes goldGlow {
  0% { opacity: 0.4; }
  100% { opacity: 0.8; }
}

@keyframes silverGlow {
  0% { opacity: 0.3; }
  100% { opacity: 0.7; }
}

@keyframes bronzeGlow {
  0% { opacity: 0.2; }
  100% { opacity: 0.6; }
}

// ✅ Estilos para elementos do pódio removidos
// Medalhas, coroa e banner agora são renderizados internamente pelo pokemon-card

// Badge de contagem de capturas removido - agora é controlado pelo pokemon-card component

// ===== ANIMAÇÕES PARA ELEMENTOS DECORATIVOS =====

@keyframes crownGlow {
  0% {
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 8px rgba(255, 215, 0, 0.4));
  }
  100% {
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 16px rgba(255, 215, 0, 0.8));
  }
}

@keyframes float {
  0% {
    transform: translateX(-50%) translateY(0px);
  }
  100% {
    transform: translateX(-50%) translateY(-3px);
  }
}

// Animações
@keyframes float {
  0% { transform: translateX(-50%) translateY(0px); }
  100% { transform: translateX(-50%) translateY(-3px); }
}

@keyframes crownGlow {
  0% { filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 8px rgba(255, 215, 0, 0.6)); }
  100% { filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3)) drop-shadow(0 0 16px rgba(255, 215, 0, 0.8)); }
}

@keyframes championBannerGlow {
  0% {
    box-shadow: 0 2px 8px rgba(255, 215, 0, 0.4);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
  }
  100% {
    box-shadow: 0 4px 16px rgba(255, 215, 0, 0.6);
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  }
}

// ✅ NOVO: Otimizações para telas pequenas com nova estrutura
@media (max-width: 360px) {
  .ranking-podium-vertical-mobile {
    gap: 8px;
    padding: 0 4px;
  }

  .podium-position {
    margin: 4px 2px;
  }

  // Ajustes específicos para cada container em telas muito pequenas
  .first-container-mobile {
    .podium-crown {
      font-size: 1.4rem;
      top: -12px;
    }

    .champion-banner {
      font-size: 0.6rem;
      padding: 3px 10px;
      top: 18px; // Posicionado abaixo da coroa para telas pequenas
    }
  }

  .second-container-mobile .podium-medal,
  .third-container-mobile .podium-medal {
    font-size: 1.2rem;
    top: -12px;
  }

  // Posicionamento para cards ainda menores em telas muito pequenas (180px)
  .second-container-mobile .podium-medal {
    left: calc(20px + 90px); // Mantém o mesmo cálculo para 180px
  }

  .third-container-mobile .podium-medal {
    right: calc(20px + 90px); // Mantém o mesmo cálculo para 180px
  }

  .podium-card {
    width: 180px !important;
    height: 290px !important;
    max-width: 180px !important;
    min-height: 290px !important;
    border-width: 2px;

    &.podium-card {
      .pokemon-card {
        width: 180px !important;
        height: 290px !important;
        max-width: 180px !important;
        min-height: 290px !important;
        margin: 0 !important;
      }
    }

    &::before {
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
    }
  }
}

// ===== ESTADOS DE LOADING E EMPTY STATE MOBILE =====

// Loading state - adaptado para mobile
.loading-container-mobile {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;

  ion-spinner {
    margin-bottom: 20px;
    --color: #ffd700;
    transform: scale(1.2);
  }

  p {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.9);
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
    margin: 0;
    font-weight: 500;
  }
}

// Container do estado vazio - sem altura mínima para evitar espaço vazio
.empty-state-container {
  width: 100%;
  margin-top: 0; // Remove qualquer margem superior
}

// Empty state - adaptado para mobile
.empty-state-mobile {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 20px; // Reduzido de 60px para diminuir espaço
  text-align: center;

  ion-icon {
    margin-bottom: 20px;
    font-size: 4rem;
    color: #ffd700;
    filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3));
  }

  h2 {
    font-size: 1.5rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: 12px;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  p {
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.8);
    margin-bottom: 24px;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);
    line-height: 1.4;
    padding: 0 16px;
  }

  ion-button {
    --font-size: 0.9rem;
    --padding-start: 20px;
    --padding-end: 20px;
    --padding-top: 12px;
    --padding-bottom: 12px;
    --border-radius: 12px;

    ion-icon {
      font-size: 1.1rem;
      margin-bottom: 0;
      margin-right: 8px;
    }
  }
}

// ===== GRID 2x2 DOS DEMAIS RANKINGS MOBILE =====

// Grid 2x2 para rankings 4º ao 25º lugar - agora em container separado
.mobile-ranking-grid-horizontal {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 12px;
  padding: 0 12px;
  margin-top: 0; // Remove margin-top pois agora está em container separado
  max-width: 100%;
}

.ranking-item-horizontal {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  min-height: 200px; // Altura mínima para consistência
}

// Badge de ranking posicionado no canto superior esquerdo
.ranking-badge-horizontal {
  position: absolute;
  top: 8px;
  left: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  border-radius: 50%;
  font-weight: 700;
  font-size: 0.8rem;
  color: white;
  z-index: 5;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  border: 2px solid rgba(255, 255, 255, 0.9);

  // Cores baseadas na posição - expandido para top 25
  &.rank-4, &.rank-5 {
    background: linear-gradient(145deg, #9c27b0, #7b1fa2); // Roxo
  }

  &.rank-6, &.rank-7, &.rank-8 {
    background: linear-gradient(145deg, #2196f3, #1976d2); // Azul
  }

  &.rank-9, &.rank-10, &.rank-11, &.rank-12 {
    background: linear-gradient(145deg, #4caf50, #388e3c); // Verde
  }

  &.rank-13, &.rank-14, &.rank-15, &.rank-16, &.rank-17, &.rank-18 {
    background: linear-gradient(145deg, #ff9800, #f57c00); // Laranja
  }

  &.rank-19, &.rank-20, &.rank-21, &.rank-22, &.rank-23, &.rank-24, &.rank-25 {
    background: linear-gradient(145deg, #795548, #5d4037); // Marrom
  }

  // Padrão para posições maiores que 25
  &.rank-default {
    background: linear-gradient(145deg, #757575, #424242); // Cinza
  }
}

// Card do Pokémon ocupa toda a área disponível
.ranking-pokemon-card-horizontal {
  width: 100%;
  height: 100%;
  min-height: 200px;
  display: flex;
  flex-direction: column;
}

// Badge de favoritos no canto superior direito
.ranking-favorite-badge {
  position: absolute;
  top: 8px;
  right: 8px;
  display: flex;
  align-items: center;
  gap: 4px;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 12px;
  padding: 4px 8px;
  font-size: 0.75rem;
  font-weight: 700;
  color: var(--ion-color-danger);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  z-index: 5;
  border: 1px solid rgba(255, 255, 255, 0.8);

  ion-icon {
    font-size: 0.9rem;
  }
}

// Responsividade para grid 2x2
@media (max-width: 360px) {
  .mobile-ranking-grid-horizontal {
    gap: 8px;
    padding: 0 8px;
    margin-top: 0; // Remove margin-top pois agora está em container separado
  }

  .ranking-item-horizontal {
    min-height: 180px;
  }

  .ranking-badge-horizontal {
    width: 24px;
    height: 24px;
    font-size: 0.7rem;
    top: 6px;
    left: 6px;
  }

  .ranking-favorite-badge {
    top: 6px;
    right: 6px;
    padding: 2px 6px;
    font-size: 0.7rem;
  }
}
