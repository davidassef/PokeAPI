<!DOCTYPE html>
<html>
<head>
    <title>Valida√ß√£o do Sistema de Ordena√ß√£o com Tr√™s Estados</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .feature-section {
            margin: 20px 0;
            padding: 15px;
            border-left: 4px solid #007bff;
            background: #f8f9fa;
        }
        .badge-demo-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 8px;
            width: 100%;
            margin: 15px 0;
            padding: 4px;
        }
        .title-demo {
            font-size: 16px;
            font-weight: 700;
            color: #495057;
            text-transform: uppercase;
            letter-spacing: 1.2px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            margin-bottom: 12px;
            text-align: center;
        }
        
        /* Estilos das badges demonstrativas com sistema de tr√™s estados */
        .demo-sort-badge {
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: 2px solid;
            cursor: pointer;
            
            /* Centraliza√ß√£o perfeita e expans√£o autom√°tica */
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            min-width: 80px;
            max-width: 200px;
            width: auto;
            min-height: 36px;
            white-space: nowrap;
            overflow: visible;
            gap: 6px;
        }
        
        .demo-sort-badge:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .demo-sort-badge.selected {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transform: scale(1.02);
        }
        
        /* Estados visuais */
        .demo-sort-badge.state-none {
            background: transparent;
            color: var(--badge-color);
        }
        
        .demo-sort-badge.state-asc {
            background: var(--badge-color);
            color: white;
        }
        
        .demo-sort-badge.state-desc {
            background: var(--badge-color);
            color: white;
        }
        
        /* Estilo do √≠cone de seta */
        .sort-icon {
            font-size: 14px;
            font-weight: 700;
            line-height: 1;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 16px;
            animation: sortIconPulse 0.3s ease-in-out;
        }
        
        .demo-sort-badge:hover .sort-icon {
            transform: scale(1.1);
        }
        
        .demo-sort-badge.selected .sort-icon {
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
        }
        
        /* Anima√ß√£o para o √≠cone */
        @keyframes sortIconPulse {
            0% {
                opacity: 0;
                transform: scale(0.8);
            }
            50% {
                opacity: 0.7;
                transform: scale(1.1);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        /* Cores espec√≠ficas para cada tipo de ordena√ß√£o */
        .sort-id { --badge-color: #007bff; border-color: #007bff; }
        .sort-name { --badge-color: #28a745; border-color: #28a745; }
        .sort-height { --badge-color: #ffc107; border-color: #ffc107; }
        .sort-weight { --badge-color: #dc3545; border-color: #dc3545; }
        
        .success { color: green; font-weight: bold; }
        .info { color: blue; }
        .feature { color: #007bff; font-weight: bold; }
        .warning { color: #ffc107; font-weight: bold; }
        
        .state-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .state-card {
            padding: 15px;
            border-radius: 8px;
            border: 2px solid;
            text-align: center;
        }
        
        .state-none-card {
            background: #f8f9fa;
            border-color: #dee2e6;
        }
        
        .state-asc-card {
            background: #d1ecf1;
            border-color: #bee5eb;
        }
        
        .state-desc-card {
            background: #f8d7da;
            border-color: #f5c6cb;
        }
        
        .click-counter {
            background: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
            font-weight: bold;
        }
        
        .interaction-log {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 10px;
            max-height: 200px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>üîÑ Valida√ß√£o do Sistema de Ordena√ß√£o com Tr√™s Estados</h1>
    
    <div class="test-container">
        <h2>‚úÖ Funcionalidade Implementada</h2>
        <div class="feature-section">
            <h3 class="feature">SISTEMA DE TR√äS ESTADOS</h3>
            <p><strong>1¬∫ clique:</strong> Ativa ordena√ß√£o crescente (‚Üë) - Badge selecionada + √≠cone para cima</p>
            <p><strong>2¬∫ clique:</strong> Alterna para ordena√ß√£o decrescente (‚Üì) - Badge selecionada + √≠cone para baixo</p>
            <p><strong>3¬∫ clique:</strong> Desativa ordena√ß√£o - Badge volta ao estado normal</p>
            <p class="warning">‚ö†Ô∏è Apenas UMA badge de ordena√ß√£o pode estar ativa por vez</p>
        </div>
    </div>

    <div class="test-container">
        <h2>üéØ Demonstra√ß√£o Interativa</h2>
        <p class="info">Clique nas badges abaixo para testar o sistema de tr√™s estados:</p>
        
        <div class="title-demo">Ordenar por</div>
        <div class="badge-demo-container">
            <div class="demo-sort-badge sort-id state-none" data-sort="id" data-state="none">
                <span class="sort-text">N√∫mero</span>
            </div>
            <div class="demo-sort-badge sort-name state-none" data-sort="name" data-state="none">
                <span class="sort-text">Nome</span>
            </div>
            <div class="demo-sort-badge sort-height state-none" data-sort="height" data-state="none">
                <span class="sort-text">Altura</span>
            </div>
            <div class="demo-sort-badge sort-weight state-none" data-sort="weight" data-state="none">
                <span class="sort-text">Peso</span>
            </div>
        </div>
        
        <div class="click-counter" id="clickCounter">
            Cliques: 0 | Estado atual: Nenhuma ordena√ß√£o ativa
        </div>
        
        <div class="interaction-log" id="interactionLog">
            <strong>Log de Intera√ß√µes:</strong><br>
            Clique nas badges acima para ver o log de mudan√ßas de estado...
        </div>
    </div>

    <div class="test-container">
        <h2>üìã Estados Visuais Explicados</h2>
        
        <div class="state-demo">
            <div class="state-card state-none-card">
                <h4>Estado: NONE</h4>
                <div class="demo-sort-badge sort-id state-none">
                    <span class="sort-text">N√∫mero</span>
                </div>
                <p>‚Ä¢ Badge transparente<br>‚Ä¢ Texto colorido<br>‚Ä¢ Sem √≠cone<br>‚Ä¢ Sem ordena√ß√£o ativa</p>
            </div>
            
            <div class="state-card state-asc-card">
                <h4>Estado: ASC (Crescente)</h4>
                <div class="demo-sort-badge sort-name state-asc selected">
                    <span class="sort-text">Nome</span>
                    <span class="sort-icon">‚Üë</span>
                </div>
                <p>‚Ä¢ Badge preenchida<br>‚Ä¢ Texto branco<br>‚Ä¢ √çcone ‚Üë<br>‚Ä¢ Ordena√ß√£o crescente</p>
            </div>
            
            <div class="state-card state-desc-card">
                <h4>Estado: DESC (Decrescente)</h4>
                <div class="demo-sort-badge sort-height state-desc selected">
                    <span class="sort-text">Altura</span>
                    <span class="sort-icon">‚Üì</span>
                </div>
                <p>‚Ä¢ Badge preenchida<br>‚Ä¢ Texto branco<br>‚Ä¢ √çcone ‚Üì<br>‚Ä¢ Ordena√ß√£o decrescente</p>
            </div>
        </div>
    </div>

    <div class="test-container">
        <h2>üîß Especifica√ß√µes T√©cnicas Implementadas</h2>
        <ul>
            <li class="success">‚úÖ <strong>Estados de ordena√ß√£o:</strong> sortStates object com 'none' | 'asc' | 'desc'</li>
            <li class="success">‚úÖ <strong>Campo ativo:</strong> activeSortField para controle de exclusividade</li>
            <li class="success">‚úÖ <strong>M√©todo toggle:</strong> onSortOptionToggle() com ciclo de tr√™s estados</li>
            <li class="success">‚úÖ <strong>Verifica√ß√£o de estado:</strong> getSortState() e getSortIcon()</li>
            <li class="success">‚úÖ <strong>√çcones din√¢micos:</strong> ‚Üë para asc, ‚Üì para desc, vazio para none</li>
            <li class="success">‚úÖ <strong>Formul√°rio integrado:</strong> sortBy e sortOrder sincronizados</li>
            <li class="success">‚úÖ <strong>Reset em limpar:</strong> onClearFilters() reseta todos os estados</li>
            <li class="success">‚úÖ <strong>Exclusividade:</strong> Apenas uma badge ativa por vez</li>
            <li class="success">‚úÖ <strong>Anima√ß√µes:</strong> sortIconPulse para transi√ß√µes suaves</li>
            <li class="success">‚úÖ <strong>Responsividade:</strong> Adapta√ß√£o para mobile e tablet</li>
        </ul>
    </div>

    <div class="test-container">
        <h2>üé® Melhorias Visuais</h2>
        <ul>
            <li class="success">‚úÖ <strong>Gap entre texto e √≠cone:</strong> 6px para desktop, 4px tablet, 3px mobile</li>
            <li class="success">‚úÖ <strong>√çcone responsivo:</strong> 14px desktop, 12px tablet, 11px mobile</li>
            <li class="success">‚úÖ <strong>Anima√ß√£o de entrada:</strong> sortIconPulse ao aparecer/desaparecer</li>
            <li class="success">‚úÖ <strong>Hover effect:</strong> √çcone cresce 10% no hover</li>
            <li class="success">‚úÖ <strong>Text-shadow:</strong> Sombra no √≠cone quando selecionado</li>
            <li class="success">‚úÖ <strong>Largura expandida:</strong> max-width 200px para acomodar texto + √≠cone</li>
        </ul>
    </div>

    <div class="test-container">
        <h2>‚úÖ Status da Implementa√ß√£o</h2>
        <div class="success">
            <strong>SISTEMA DE ORDENA√á√ÉO COM TR√äS ESTADOS IMPLEMENTADO COM SUCESSO!</strong><br><br>
            ‚úÖ Ciclo completo: none ‚Üí asc ‚Üí desc ‚Üí none<br>
            ‚úÖ √çcones visuais: ‚Üë (crescente), ‚Üì (decrescente)<br>
            ‚úÖ Exclusividade: apenas uma ordena√ß√£o ativa por vez<br>
            ‚úÖ Integra√ß√£o com formul√°rio: sortBy e sortOrder sincronizados<br>
            ‚úÖ Estados visuais distintos para cada fase<br>
            ‚úÖ Anima√ß√µes e transi√ß√µes suaves<br>
            ‚úÖ Responsividade completa<br>
            ‚úÖ Reset funcional ao limpar filtros<br>
        </div>
    </div>

    <script>
        let clickCount = 0;
        const sortStates = {
            'id': 'none',
            'name': 'none', 
            'height': 'none',
            'weight': 'none'
        };
        let activeSortField = null;

        function updateClickCounter() {
            const counter = document.getElementById('clickCounter');
            const activeField = activeSortField;
            const activeState = activeField ? sortStates[activeField] : 'none';
            const stateText = activeField ? 
                `${activeField.toUpperCase()} (${activeState === 'asc' ? 'Crescente ‚Üë' : 'Decrescente ‚Üì'})` : 
                'Nenhuma ordena√ß√£o ativa';
            
            counter.textContent = `Cliques: ${clickCount} | Estado atual: ${stateText}`;
        }

        function logInteraction(field, oldState, newState) {
            const log = document.getElementById('interactionLog');
            const timestamp = new Date().toLocaleTimeString();
            const stateNames = { 'none': 'Desativado', 'asc': 'Crescente ‚Üë', 'desc': 'Decrescente ‚Üì' };
            
            const message = `[${timestamp}] ${field.toUpperCase()}: ${stateNames[oldState]} ‚Üí ${stateNames[newState]}`;
            log.innerHTML += '<br>' + message;
            log.scrollTop = log.scrollHeight;
        }

        function onSortToggle(sortValue) {
            const badge = document.querySelector(`[data-sort="${sortValue}"]`);
            const currentState = sortStates[sortValue];
            const oldState = currentState;
            
            // Reset todos os outros campos
            Object.keys(sortStates).forEach(key => {
                if (key !== sortValue) {
                    const otherBadge = document.querySelector(`[data-sort="${key}"]`);
                    sortStates[key] = 'none';
                    otherBadge.className = `demo-sort-badge sort-${key} state-none`;
                    otherBadge.dataset.state = 'none';
                    const icon = otherBadge.querySelector('.sort-icon');
                    if (icon) icon.remove();
                }
            });
            
            // Cicla atrav√©s dos tr√™s estados
            let newState;
            switch (currentState) {
                case 'none':
                    newState = 'asc';
                    activeSortField = sortValue;
                    break;
                case 'asc':
                    newState = 'desc';
                    activeSortField = sortValue;
                    break;
                case 'desc':
                    newState = 'none';
                    activeSortField = null;
                    break;
            }
            
            sortStates[sortValue] = newState;
            badge.className = `demo-sort-badge sort-${sortValue} state-${newState} ${newState !== 'none' ? 'selected' : ''}`;
            badge.dataset.state = newState;
            
            // Atualiza √≠cone
            const existingIcon = badge.querySelector('.sort-icon');
            if (existingIcon) existingIcon.remove();
            
            if (newState !== 'none') {
                const icon = document.createElement('span');
                icon.className = 'sort-icon';
                icon.textContent = newState === 'asc' ? '‚Üë' : '‚Üì';
                badge.appendChild(icon);
            }
            
            clickCount++;
            updateClickCounter();
            logInteraction(sortValue, oldState, newState);
        }

        // Adicionar event listeners
        document.querySelectorAll('.demo-sort-badge').forEach(badge => {
            badge.addEventListener('click', function() {
                const sortValue = this.dataset.sort;
                onSortToggle(sortValue);
            });
        });

        console.log('üîÑ Valida√ß√£o do sistema de ordena√ß√£o com tr√™s estados carregada!');
        console.log('‚úÖ Clique nas badges para testar: none ‚Üí asc ‚Üí desc ‚Üí none');
    </script>
</body>
</html>
